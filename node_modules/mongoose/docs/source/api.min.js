/*!
 * Module dependencies
 */function parse(e){e.split(/^### /gm).forEach(function(e){function u(e){return e.ignore?!1:!0}if(!(e=e.trim()))return;e=e.split(/^([^\n]+)\n/);var t=e[1];if(!t||!(t=t.trim()))throw new Error("missing title");t=t.replace(/^lib\//,"");var n=JSON.parse(e[2]),r=[],i=[],s=[],o=null;n.forEach(function(e){e.description&&highlight(e.description);var t=!1;e.params=[];e.see=[];var n=e.tags.length;while(n--){var s=e.tags[n];switch(s.type){case"property":t=!0;e.ctx||(e.ctx={});e.ctx.name=s.string;r.unshift(e);break;case"method":t=!1;e.ctx||(e.ctx={});e.ctx.name||(e.ctx.name=s.string);e.ctx.type="method";e.code="";break;case"memberOf":t=!1;e.ctx||(e.ctx={});e.ctx.constructor=s.parent;break;case"static":t=!1;e.ctx||(e.ctx={});e.ctx.name=s.string;e.ctx.type="method";break;case"receiver":t=!1;e.ctx||(e.ctx={});e.ctx.receiver=s.string;break;case"constructor":t=!1;e.ctx||(e.ctx={});e.ctx.name||(e.ctx.name=s.string);e.ctx.type="function";e.code="";break;case"inherits":if(/http/.test(s.string)){var o=s.string.split(" "),u=o.pop(),a=o.join(" ");e.inherits='<a href="'+u+'" title="'+a+'">'+a+"</a>"}else e.inherits=link(s.string);e.tags.splice(n,1);break;case"param":e.params.unshift(s);e.tags.splice(n,1);break;case"return":e.return=s;e.tags.splice(n,1);break;case"see":if(s.local){var f=s.local.split(" ");if(1===f.length){s.url=link.type(f[0]);s.title=f[0]}else{s.url=f.pop();s.title=f.join(" ")}}e.see.unshift(s);e.tags.splice(n,1);break;case"event":var l=s.string.replace(/\\n/g,"\n");s.string=md.parse(l).replace(/\n/g,"\\n").replace(/'/g,"&#39;");e.events||(e.events=[]);e.events.unshift(s);e.tags.splice(n,1)}}t||i.push(e)});i=i.filter(u);r=r.filter(u);if(0===i.length+r.length)return;i.some(function(e){if(e.ctx&&"method"==e.ctx.type&&e.ctx.hasOwnProperty("constructor")){r.forEach(function(t){t.ctx.constructor=e.ctx.constructor});return!0}return!1});var a=i.length;while(a--){method=i[a];if(method.ctx&&method.ctx.receiver){var f=i.splice(a,1)[0];s.unshift(f)}}out.push({title:t,methods:i,props:r,statics:s,hasPublic:hasPublic(i,r,s)})})}function hasPublic(){for(var e=0;e<arguments.length;++e){var t=arguments[e];for(var n=0;n<t.length;++n){var r=t[n];if(!r.ignore&&!r.isPrivate)return!0}}return!1}function highlight(e){e.full=fix(e.full);e.summary=fix(e.summary);e.body=fix(e.body)}function fix(e){return e.replace(/(<pre><code>)([^<]+)(<\/code)/gm,function(e,t,n,r){var i=/^(?:`{3}([^\n]+)\n)?([\s\S]*)/gm.exec(n);if("js"==i[1]||!i[1])i[1]="javascript";return t+hl.highlight(i[1],i[2]).value.trim()+r})}function order(e){for(var t=0;t<e.length;++t)"index.js"==e[t].title&&e.unshift(e.splice(t,1)[0])}var fs=require("fs"),link=require("../helpers/linktype"),hl=require("highlight.js"),md=require("markdown");module.exports={docs:[],github:"https://github.com/LearnBoost/mongoose/tree/",title:"API docs"};var out=module.exports.docs,docs=fs.readFileSync(__dirname+"/_docs","utf8");parse(docs);order(out);